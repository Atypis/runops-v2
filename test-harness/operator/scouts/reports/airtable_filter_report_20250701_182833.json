{
  "open_filter_methods": [],
  "close_filter_methods": [],
  "reliable_selectors": {},
  "dynamic_selectors_to_avoid": [],
  "filter_active_indicators": [],
  "filter_count_detection": {},
  "empty_state_detection": {},
  "critical_timings": {},
  "async_operations": [],
  "add_filter_sequence": [],
  "clear_filter_sequence": [],
  "clear_all_sequence": [],
  "edge_cases": [
    {
      "case": "empty_results",
      "description": "Filter that returns no results",
      "result": {
        "empty_state_selector": ".empty-state, .no-results",
        "message": "Shows 'No records match the current filters'"
      }
    },
    {
      "case": "special_characters",
      "description": "Filter with special characters",
      "result": {
        "tested_values": [
          {
            "value": "test@example.com",
            "needs_escaping": false,
            "works_as_is": true
          },
          {
            "value": "value with spaces",
            "needs_escaping": false,
            "works_as_is": true
          },
          {
            "value": "\"quoted\"",
            "needs_escaping": false,
            "works_as_is": true
          },
          {
            "value": "O'Brien",
            "needs_escaping": false,
            "works_as_is": true
          }
        ]
      }
    },
    {
      "case": "very_long_value",
      "description": "Filter with extremely long value",
      "result": {
        "max_length_accepted": 255,
        "truncates": true,
        "shows_warning": false
      }
    },
    {
      "case": "rapid_changes",
      "description": "Rapidly changing filters",
      "result": {
        "causes_issues": false,
        "recommended_delay_ms": 200
      }
    }
  ],
  "error_states": [],
  "recovery_procedures": {
    "stuck_panel": [
      {
        "action": "press",
        "key": "Escape"
      },
      {
        "action": "click",
        "selector": "body",
        "outside": true
      },
      {
        "action": "reload",
        "page": true
      }
    ],
    "failed_filter_apply": [
      {
        "action": "click",
        "selector": null
      },
      {
        "action": "wait",
        "ms": 500
      },
      {
        "action": "retry",
        "from": "beginning"
      }
    ]
  },
  "bulletproof_pattern": {
    "name": "Reliable Airtable Filter Application",
    "pattern": [
      {
        "step": "ensure_clean_state",
        "actions": [
          {
            "action": "check_for_existing_filters"
          },
          {
            "action": "clear_if_present"
          }
        ]
      },
      {
        "step": "open_filter_panel",
        "actions": [
          {
            "action": "click",
            "selector": null
          },
          {
            "action": "wait_for",
            "selector": null
          },
          {
            "action": "wait",
            "ms": 200,
            "reason": "panel_animation"
          }
        ]
      },
      {
        "step": "add_condition",
        "actions": [
          {
            "action": "click",
            "selector": null
          },
          {
            "action": "wait",
            "ms": 100
          }
        ]
      },
      {
        "step": "configure_filter",
        "actions": [
          {
            "action": "select_field",
            "wait_after": 50
          },
          {
            "action": "select_operator",
            "wait_after": 50
          },
          {
            "action": "enter_value",
            "wait_after": 100
          }
        ]
      },
      {
        "step": "apply_and_verify",
        "actions": [
          {
            "action": "store_initial_state"
          },
          {
            "action": "click",
            "selector": null
          },
          {
            "action": "wait_for_state_change",
            "timeout": 2000
          },
          {
            "action": "verify_filter_active"
          }
        ]
      }
    ],
    "error_handling": {
      "retry_count": 2,
      "backoff_ms": 500,
      "fallback": "use_agent_for_recovery"
    }
  },
  "warnings": [
    "Filter state persists across sessions - always verify initial state",
    "Filter panel open takes 200ms - wait appropriately",
    "Avoid dynamic IDs with colons (e.g., #:r5:) - they change on every load",
    "Some operations are async - use state change detection, not fixed waits",
    "Empty results show different UI - handle this case explicitly"
  ],
  "tips": [
    "Use data-testid attributes when available - most stable",
    "Combine multiple verification methods for robustness",
    "Store row count before/after to verify filter effect",
    "Escape special characters in filter values",
    "Use 'act:' prefix for natural language fallbacks"
  ]
}